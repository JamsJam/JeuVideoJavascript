<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>
    <main class="gridmain">
        <div class="hero"></div>
        <div class="exit"></div>
        <div class="obstacle"></div>
    </main>
    <!-- <button>beggin</button> -->
    <button>haut</button>
    <button>bas</button>
    <button>gauche</button>
    <button>droit</button>
    <script>
        window.onload = () => {
            let h = 1,
                g = 1,
                b = 1,
                d = 1;
                
            let hero = document.querySelector('.hero');
            
            
            let btn = document.querySelectorAll('button');
            console.log(btn)

            // let obj = document.querySelector('.obstacle');
            // let objLeft = parseInt(window.getComputedStyle(obj).getPropertyValue("grid-column"));
            // let objRight = parseInt(window.getComputedStyle(obj).getPropertyValue("grid-column"));
            var rect2 = {x:20,y:10, width : 50, height : 50};


            
            btn[0].addEventListener('click',()=>{
                console.log(hero);
                if ( h > 1) {
                //     if(objLeft<20 && objLeft >0 && objRight >20 && objRight <0){
                // obj.style.animation = "none";
                if(objLeft<20 && objLeft >0 && objRight >20 && objRight <0){
                obj.style.animation = "none";
                    hero.style.transform = 'translateY(-40px)'
                    hero.style.gridArea = h+"/"+g+"/"+b+"/"+d;
                    b--;
                    h--;
                    
                }
                hero.style.backgroundColor = "brown" ;
                }
            })
            
        
            
            btn[1].addEventListener('click',()=>{
                console.log(hero);
                if (b<20) {
                    if(objLeft<20 && objLeft >0 && objRight >20 && objLeft <0){
                obj.style.animation = "none";
            
                    hero.style.transform = 'translateY(40px)'
                    hero.style.gridArea = h+"/"+g+"/"+b+"/"+d;
                    
                    b++;
                    h++;
                }}
                hero.style.backgroundColor = "green" ;
                
            })
            


            btn[2].addEventListener('click',()=>{
                console.log(hero);
                if(g>1){
                    if(objLeft<20 && objLeft >0 && objRight >-20 && objLeft <0){
                obj.style.animation = "none";
            
                    hero.style.gridArea = h+"/"+g+"/"+b+"/"+d;
                    hero.style.transform = 'translateX(-40px)'
                    g--;
                    d--;
                }}
                hero.style.backgroundColor = "navy" ;
            })
            


            btn[3].addEventListener('click',()=>{
                console.log(hero);
                if (d<20) {
                    if(objLeft<20 && objLeft >0 && objRight >-20 && objLeft <0){
                obj.style.animation = "none";
            
                    hero.style.transform = 'translateX(40px)'
                    
                    hero.style.gridArea = h+"/"+g+"/"+b+"/"+d;
                    d++;
                    g++;
                    
                }}
                hero.style.backgroundColor = "tan" ;
                
            })            
        };

    </script>
</body>
</html>